<html>

<head>
<title>WaniKani Book Club Manager version 0.4.1</title>
<meta charset="UTF-8">
<link rel="stylesheet" href="styles/styles.css">
<link rel="stylesheet" href="styles/grid.css">
<link rel="stylesheet" href="styles/modal.css">
</head>

<body id="kfbc-form">

<p>Series: <select id="kfbc-book-list"><option hidden disabled selected value>Select Book/Series</option></select></p>

<div id="kfbc-errors"></div>

<div id="kfbc-layout">

  <div id="kfbc-target"></div>

  <div id="kfbc-buttons">
    <button class="btn btn-icon-text btn-primary create" id="kfbc-save-storage" disabled>üíæ&nbsp;Save&nbsp;to&nbsp;Browser</button>
    <button class="btn btn-icon-text btn-primary create" id="kfbc-download-file" disabled>üíæ&nbsp;Save&nbsp;to&nbsp;File</button>
    <button class="btn btn-icon-text btn-primary create" id="kfbc-delete-storage" disabled>‚ùå&nbsp;Delete&nbsp;from&nbsp;Browser</button>
    <br/>
    <br/>
    <button class="btn btn-icon-text btn-primary create" id="kfbc-copy-volume-thread" disabled style="height: 2em;">üìã&nbsp;Create&nbsp;Volume&nbsp;Thread</button>
    <button class="btn btn-icon-text btn-primary create" id="kfbc-copy-sheets-macro" disabled style="height: 2em;">üìã&nbsp;Copy&nbsp;Sheets&nbsp;Macro</button>
    <button class="btn btn-icon-text btn-primary create" id="kfbc-copy-week-thread" disabled style="height: 2em;">üìã&nbsp;Create&nbsp;Week&nbsp;Thread</button>
  </div>

  <div id="kfbc-content" style="display: none;"></div>
   <!-- TODO: Support removing a volume. -->

</div>

<!-- Modal window -->
<div id="kfbc-modal-blocker">
  <div class="modal">
    <button class="btn btn-icon-text btn-primary create" id="kfbc-close-modal">‚úï</button>
    <div id="kfbc-add-volume-modal">
      <h2 class='kfbc-modal-title'>Modal Title</h2>
      <div class='kfbc-modal-content'>
        <p>Modal Content</p>
      </div>
    </div>
  </div>
</div>

<script src="scripts/common.js"></script>

<script src="scripts/Chapter.js"></script>
<script src="scripts/ErrorMessage.js"></script>
<script src="scripts/Interface.js"></script>
<script src="scripts/Series.js"></script>
<script src="scripts/Volume.js"></script>
<script src="scripts/Week.js"></script>
<script src="scripts/Template.js"></script>
<script src="scripts/Macro.js"></script>

<script src="scripts/load%20file.js"></script>

<script>
var series = new Series('')

document.getElementById('kfbc-save-storage').onclick = function() { series.save() }
document.getElementById('kfbc-delete-storage').onclick = function() { series.deleteFromStorage(true) }
document.getElementById('kfbc-download-file').onclick = function() { series.download() }
document.getElementById('kfbc-copy-volume-thread').onclick = function() { Template.copyVolumeThread(series) }
document.getElementById('kfbc-copy-sheets-macro').onclick = function() { Macro.copySheetsMacro(series) }
document.getElementById('kfbc-copy-week-thread').onclick = function() { Template.copyWeekThread(series) }

document.getElementById('kfbc-book-list').onchange = function() { loadFromStorage(this.value) }

Interface.showBookList()

// Load an empty book club.
loadFromFileText('{}')
</script>

</select>

<script>
const modalWrapper = document.querySelector('#kfbc-modal-blocker')
const closeModalButton = document.querySelector('#kfbc-close-modal')
closeModalButton.onclick = function() { modalWrapper.classList.remove('kfbc-open') }
</script>

<!--
TODO: Get vocabulary sheet form labels working.  Currently clicking on a label does change the checkbox.
-->

<!--
TODO: Have a "new volume" div that comes up when adding a new volume.
Ask for series name, volume name/number, number of chapters, number of weeks, and start date.  Most of these are optional.
-->

<!--
Have a link to click on to bring up the current volume thread.
-->

</body>

</html>
