<html>

<head>
<title>WaniKani Book Club Manager version 0.3.2</title>
<meta charset="UTF-8">
<link rel="stylesheet" href="styles/styles.css">
<link rel="stylesheet" href="styles/grid.css">
<link rel="stylesheet" href="styles/modal.css">
</head>

<body>

<p>Series: <select id="bookList"><option hidden disabled selected value>Select Book/Series</option></select></p>

<div id="errors"></div>

<div id="layout">

  <div id="target"></div>

  <div id="buttons">
    <button id="saveStorage" disabled>üíæ&nbsp;Save&nbsp;to&nbsp;Browser</button>
    <button id="save" disabled>üíæ&nbsp;Save&nbsp;to&nbsp;File</button>
    <button id="deleteStorage" disabled>‚ùå&nbsp;Delete&nbsp;from&nbsp;Browser</button>
    <br/>
    <br/>
    <button id="copyVolumeThread" disabled style="height: 2em;">üìã&nbsp;Copy&nbsp;Volume&nbsp;Thread</button>
    <button id="copySheetsMacro" disabled style="height: 2em;">üìã&nbsp;Copy&nbsp;Sheets&nbsp;Macro</button>
    <button id="copyWeekThread" disabled style="height: 2em;">üìã&nbsp;Copy Week&nbsp;Thread</button>
  </div>

  <div id="content" style="display: none;"></div>
   <!-- TODO: Support removing a volume. -->

</div>

<!-- Modal window -->
<div id="modalBlocker">
  <div class="modal">
    <button id="closeModal">‚úï</button>
    <div id="addVolumeModal">
      <h2 class='modalTitle'>Modal Title</h2>
      <div class='modalContent'>
        <p>Modal Content</p>
      </div>
    </div>
  </div>
</div>

<!-- TODO: Work to remove this template. -->
<template id="templates-template">
<table class="templateTable">
<colgroup>
<col style="width: 10em;">
<col style="width: 50em;">
</colgroup>
<tbody>
<tr><td><label>Template&nbsp;name</label></td><td><span name="templateName"></span></td></tr>
<tr><td><label>Template&nbsp;markdown</label></td><td><textarea name="templateMarkdown" rows="30" cols="100"></textarea></td></tr>
</tbody>
</table>
</template>

<script src="scripts/common.js"></script>

<script src="scripts/Chapter.js"></script>
<script src="scripts/ErrorMessage.js"></script>
<script src="scripts/Interface.js"></script>
<script src="scripts/Series.js"></script>
<script src="scripts/Volume.js"></script>
<script src="scripts/Week.js"></script>
<script src="scripts/Template.js"></script>
<script src="scripts/Macro.js"></script>

<script src="scripts/load%20file.js"></script>

<script>
var series = new Series('')

document.getElementById('saveStorage').onclick = function() { save() }
document.getElementById('deleteStorage').onclick = function() { deleteFromStorage(true) }
document.getElementById('save').onclick = function() { series.download() }
document.getElementById('copyVolumeThread').onclick = function() { Template.copyVolumeThread() }
document.getElementById('copySheetsMacro').onclick = function() { Macro.copySheetsMacro() }
document.getElementById('copyWeekThread').onclick = function() { Template.copyWeekThread() }

document.getElementById('bookList').onchange = function() { loadFromStorage(this.value) }

Interface.showBookList();

loadFromFileText('{}');
</script>

</select>

<script>
const modalWrapper = document.querySelector('#modalBlocker');
const closeModalButton = document.querySelector('#closeModal');
closeModalButton.onclick = function() { modalWrapper.classList.remove('open') };
</script>

<!--
TODO: Allow adding book store entries by URL.
Detect site based on URL and store only the unicode code(s) needed to reach the store page.
The interface for an added item shows the store name with a link that opens in a new tab/window.  There needs to be a field to add extra text, such as for b&w/color variants.  Need also to have if physical or digital.


Example:

PHYSICAL:

Amazon:
https://www.amazon.co.jp/-/en/%E3%82%AA%E3%83%80-%E3%83%88%E3%83%A2%E3%83%92%E3%83%88/dp/4091273432/ref=tmm_other_meta_binding_swatch_0?_encoding=UTF8&qid=1666294059&sr=8-4
=> 4091273432

CDJapan:
https://www.cdjapan.co.jp/product/NEOBK-1985640
=> NEOBK-1985640

DIGITAL:

Amazon:
https://www.amazon.co.jp/-/en/%E3%82%AA%E3%83%80%E3%83%88%E3%83%A2%E3%83%92%E3%83%88-ebook/dp/B01M0RDBS5/ref=tmm_kin_swatch_0?_encoding=UTF8&qid=1666294059&sr=8-4
=> B01M0RDBS5

Rakuten:
https://books.rakuten.co.jp/rk/f4cb7008434635c897fd6961ba780060/
=> f4cb7008434635c897fd6961ba780060

Kobo:
https://www.kobo.com/jp/en/ebook/CHDL9EZDyDWX_WlhungAYA
=> CHDL9EZDyDWX_WlhungAYA

Bookwalker:
https://bookwalker.jp/defd946944-d78a-42e5-9759-f4dccdce74aa/
=> defd946944-d78a-42e5-9759-f4dccdce74aa


TODO: Consider utilizing sections in place of divs where appropriate.

TODO: Get vocabulary form labels working.  Currently clicking on a label does change the checkbox.

TODO: When adding/removing a template, update all the template downdown lists.

-->

<!--
TODO: Have a "new volume" div that comes up when adding a new volume.  Ask for series name, volume name/number, number of chapters, number of weeks, and start date.  Most of these are optional.

Have a link to click on to being up the current volume thread.
-->

</body>

</html>
